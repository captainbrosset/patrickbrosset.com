<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Implementing an accordion component in 2026 ðŸª—</title>
  <style>
    html {
      font-family: system-ui;
      font-size: 1.2rem;
      background: white;
      color: black;
      line-height: 1.6;
    }

body {
    margin: 2rem auto;
    display: grid;
    grid-template:
      "header header"
      "main aside"
      "footer footer"
      / 2fr 3fr;
    gap: 2rem;
    max-inline-size: 1300px;
    padding-inline: 2rem;
}

    @media (max-width: 900px) {
      body {
        grid-template:
          "header"
          "main"
          "aside"
          "footer"
          / 1fr;
      }
    }

    h1 {
      grid-area: header;
      margin: 0;
    }

    main {
      grid-area: main;
    }

    main > :first-child {
      margin-block-start: 0;
    }

    main > :last-child {
      margin-block-end: 0;
    }

    aside {
      grid-area: aside;
    }

    footer {
      grid-area: footer;
      text-align: end;
      font-size: 0.9rem;
    }

    code {
      background: aliceblue;
      padding: .125rem .25rem;
      border: 1px solid hsl(from aliceblue h s 80%);
      border-radius: .25rem;
    }

    .accordion {
      --closed-background: #eee;
      --hovered-background: #ddd;
      --open-background: aliceblue;
      --border-color: #ccc;
      --open-animation-duration: .3s;

      box-shadow: 0 0 1rem 0 #0003;
      padding: 1rem;
      border-radius: 0.5rem;
      display: grid;
      gap: 1rem;
    }

    .accordion details {
      border: 1px solid var(--border-color);
      border-radius: 0.25rem;
      overflow: hidden;
      background: var(--closed-background);
    }

    .accordion details:hover {
      background: var(--hovered-background);
    }

    .accordion details[open] {
      background: var(--open-background);
    }

    .accordion summary {
      padding: 1rem 3rem 1rem 1rem;
      position: relative;
      font-weight: bold;
      cursor: pointer;
      line-height: initial;
    }

    /* Draw the visual keyboard focus outline on the details element instead of the summary (default) */
    .accordion details:focus-within:has(summary:focus-visible) {
      outline: 2px solid hsl(from var(--open-background) h s 30%);
      outline-offset: -2px;
      box-shadow: 0 0 0 2px hsl(from var(--open-background) h s 90%);
    }

    /* Hiding the default outline on the summary */
    .accordion details summary:focus-visible {
      outline: none;
    }

    .accordion details::details-content {
      padding-inline: 1rem;
      border-block-start: 1px solid var(--border-color);
      /* To hide the border. */
      position: relative;
      top: 1px;
      /* Hidden initially. */
      /* block-size: 0; */
    }

    /* Only animate to auto if the browser supports calc-size() */
    @supports (block-size: calc-size(auto, 100px)) {
      .accordion details::details-content {
        block-size: 0;
        /* Animate the opening. */
        transition:
          block-size var(--open-animation-duration) ease-in-out,
          content-visibility var(--open-animation-duration) ease-in-out;
        transition-behavior: allow-discrete;
      }

      .accordion details[open]::details-content {
        block-size: calc-size(auto, size + 1rem);
      }
    }

    .accordion summary::marker {
      content: "";
    }

    /* Safari doesn't fully support ::marker. */
    .accordion summary::-webkit-details-marker {
      display: none;
    }

    .accordion summary::after {
      content: "";
      position: absolute;
      inset: 0 0 0 auto;
      inline-size: 3rem;
      background-image: url('data:image/svg+xml,<svg width="20" height="10" xmlns="http://www.w3.org/2000/svg" stroke="black"><line x1="0" y1="0" x2="10" y2="10"></line><line x1="10" y1="10" x2="20" y2="0"></line></svg>');
      background-repeat: no-repeat;
      background-position: center;
      background-size: auto;
      transition: transform var(--open-animation-duration) ease;
    }

    .accordion details[open] summary::after {
      transform: rotate(-.5turn);
    }
  </style>
</head>

<body>

  <h1>Implementing an accordion component in 2026 ðŸª—</h1>

  <main>
    <p>This accordion component only uses built-in HTML and CSS features of the web platform. No components library, no
      JavaScript code.</p>

    <p>In recent years, the web platform has grown new capabilities to style and animate built-in HTML elements like the
      <code>&lt;details&gt;</code> element. These capabilities make it possible to easily create an accordion component
      like the
      one here.
    </p>

    <p>The benefits of using built-in web platform features for this are:</p>
    <ul>
      <li><strong>Better for performance</strong>: there's no need to download and run custom or third-party JavaScript
        code to generate,
        style, and animate the component.</li>
      <li><strong>Better for accessibility</strong>: the built-in <code>&lt;details&gt;</code> element is accessible by
        default. The
        element is focusable by the browser and supports a keyboard accessible action to expand and collapse the
        content.</li>
    </ul>

    <p>To learn more about the features used in this component, open the sections in the accordion.</p>
  </main>

  <aside>

    <div class="accordion">

      <details name="my-accordion">
        <summary>Mutually exclusive <code>&lt;details&gt;</code> elements</summary>
        <p>By setting the <code>name</code> attribute of <code>&lt;details&gt;</code> elements to the same value, only
          one
          section can be open at a time. Opening a section automatically closes any other open section with the same
          <code>name</code> value.
        </p>
        <p>Mutually exclusive <code>&lt;details&gt;</code> elements have been supported by all major browsers since
          September 2024.</p>
        <p><a href="https://web-platform-dx.github.io/web-features-explorer/features/details-name/">Learn more</a></p>
      </details>

      <details name="my-accordion">
        <summary>Style the expandable content with <code>::details-content</code></summary>
        <p>The <code>::details-content</code> pseudo-element allows styling the expandable content part of a
          <code>&lt;details&gt;</code> element only.
        </p>
        <p>The <code>::details-content</code> pseudo-element saves you from having to nest an additional container element.</p>
        <p>In this example, the pseudo-element is used to add inline padding to the content, and a top border to separate the content from the <code>&lt;summary&gt;</code> element.</p>
        <p>The <code>::details-content</code> pseudo-element has been supported by all major browsers since
          September 2025.</p>
        <p><a href="https://web-platform-dx.github.io/web-features-explorer/features/details-content/">Learn more</a></p>
      </details>

      <details name="my-accordion">
        <summary>Animate to an intrinsic size with <code>calc-size()</code></summary>
        <p>The <code>calc-size()</code> CSS function, and the <code>interpolate-size</code> CSS property, allow animating an element's size to or from an intrinsic size like <code>auto</code>.</p>
        <p>This has long been needed to animate the opening of sections which contain unknown content, such as user-submitted content.</p>
        <p>This accordion uses the <code>calc-size()</code> function to set the expanded height of the <code>::details-content</code> pseudo-element to <code>auto + 1rem</code>. Doing so automatically applies the <code>interpolate-size:allow-keywords</code> style to the element, which enables animations to CSS keywords like <code>auto</code>.</p>
        <p>The component also uses the ability to animate the <code>content-visibility</code> CSS property, by using <code>transition-behavior: allow-discrete</code>. This allows to hide the content in sync with the animation of the size, preventing the browser from hiding the content before the collapse animation is complete.</p>
        <p>Animating to an intrisic size is only fully supported on Chromium-based browsers, but can be used as a progressive enhancement. Users of non-supporting browsers will still be able to use the accordion.</p>
        <p>Learn more about <a href="https://web-platform-dx.github.io/web-features-explorer/features/calc-size/">calc-size()</a>, <a href="https://web-platform-dx.github.io/web-features-explorer/features/interpolate-size/">interpolate-size</a>, and <a href="https://web-platform-dx.github.io/web-features-explorer/features/display-animation/">animating display properties like content-visibility</a>.</p>
      </details>

      <details name="my-accordion">
        <summary>Style the expander icon with <code>::marker</code></summary>
        <p>The <code>::marker</code> pseudo-element lets you style the expander icon part of the <code>&lt;summary&gt;</code> element.</p>
        <p>This pseudo only supports a limited number of properties, which are likely enough for a majority of use cases. These properties are:</p>
        <ul>
          <li>All font properties</li>
          <li>The <code>white-space</code> property</li>
          <li><code>color</code></li>
          <li><code>text-combine-upright</code>, <code>unicode-bidi</code>, and <code>direction</code></li>
          <li>The <code>content</code> property</li>
          <li>All animation and transition properties</li>
        </ul>
        <p>At the moment, Safari only supports styling the <code>color</code> and <code>font-size</code> properties.</p>
        <p>This example accordion uses <code>::marker { content: "" }</code> to hide the default marker (also using <code>::-webkit-details-marker</code> to hide it on Safari). A custom icon is displayed by using the <code>::after</code> pseudo-element, which provides more flexibility.</p>
        <p><a href="https://web-platform-dx.github.io/web-features-explorer/features/marker/">Learn more</a></p>
    </div>

  </aside>

  <footer>By <a href="https://patrickbrosset.com">Patrick Brosset</a></footer>

</html>