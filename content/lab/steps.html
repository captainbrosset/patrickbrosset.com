<!DOCTYPE html>
<style>
  html,
  body {
    margin: 0;
    height: 100%;
    overflow: hidden;
  }

  body {
    position: relative;
    animation: pulse 10s ease-in-out alternate infinite;
  }

  main {
    width: 300vmax;
    height: 300vmax;
    position: absolute;
    left: -100vmax;
    top: -100vmax;

    display: grid;
    grid-template-columns: repeat(5, 1fr);
    animation: rotate 14s ease-in-out infinite;

    background: #e34b4b;
    --track-length: 35%;
    --line-color: black;
    --mix-color: rgb(34, 20, 125);
  }

  @keyframes pulse {
    to {
      scale: 2;
    }
  }

  @keyframes rotate {
    to {
      rotate: 1turn;
    }
  }

  @property --min-line-thickness {
    initial-value: 5px;
    inherits: false;
    syntax: '<length>';
  }

  @property --max-gap-size {
    initial-value: 70px;
    inherits: false;
    syntax: '<length>';
  }

  @property --gap-size-step {
    initial-value: 10px;
    inherits: false;
    syntax: '<length>';
  }

  @property --line-thickness-step {
    initial-value: 5px;
    inherits: false;
    syntax: '<length>';
  }

  .steps {
    background-color: var(--background);
    background-image:
      linear-gradient(to bottom, var(--line-color) 0 var(--min-line-thickness), transparent 0),
      linear-gradient(to bottom, color-mix(in srgb, var(--line-color), var(--mix-color) 10%) 0 calc(var(--min-line-thickness) + var(--line-thickness-step)), transparent 0),
      linear-gradient(to bottom, color-mix(in srgb, var(--line-color), var(--mix-color) 20%) 0 calc(var(--min-line-thickness) + var(--line-thickness-step) + var(--line-thickness-step)), transparent 0),
      linear-gradient(to bottom, color-mix(in srgb, var(--line-color), var(--mix-color) 30%) 0 calc(var(--min-line-thickness) + var(--line-thickness-step) + var(--line-thickness-step) + var(--line-thickness-step)), transparent 0),
      linear-gradient(to bottom, color-mix(in srgb, var(--line-color), var(--mix-color) 40%) 0 calc(var(--min-line-thickness) + var(--line-thickness-step) + var(--line-thickness-step) + var(--line-thickness-step) + var(--line-thickness-step)), transparent 0);
    background-size:
      var(--track-length) var(--max-gap-size),
      var(--track-length) calc(var(--max-gap-size) - var(--gap-size-step)),
      var(--track-length) calc(var(--max-gap-size) - var(--gap-size-step) - var(--gap-size-step)),
      var(--track-length) calc(var(--max-gap-size) - var(--gap-size-step) - var(--gap-size-step) - var(--gap-size-step)),
      var(--track-length) calc(var(--max-gap-size) - var(--gap-size-step) - var(--gap-size-step) - var(--gap-size-step) - var(--gap-size-step));
    background-position:
      0 0,
      var(--track-length) 0,
      calc(var(--track-length) * 2) 0,
      calc(var(--track-length) * 3) 0,
      calc(var(--track-length) * 4) 0,
      calc(var(--track-length) * 5) 0;
    background-repeat: repeat-y;

    animation: animate 20s ease-in-out alternate infinite;
  }

  @keyframes animate {
    to {
      --min-line-thickness: 200px;
      --max-gap-size: 1000px;
      --gap-size-step: 20px;
      --line-thickness-step: 20px;
    }
  }

  .steps {
    animation-delay: calc(sibling-index() * .125s);
  }

  .steps:nth-child(2n) {
    transform: scaleX(-1);
  }

  @media (prefers-reduced-motion: reduce) {
    body,
    main,
    .steps {
      animation: none;
    }

    html::before {
      content: "Your device is set to reduced-motion, so the animation won't play.";
      position: absolute;
      top: 1rem;
      left: 1rem;
      z-index: 1;
      padding: 1rem;
      font-family: system-ui;
      font-size: 1rem;
      background: #fffc;
      border-radius: 100vw;
    }
  }
</style>
<main>
  <div class="steps"></div>
  <div class="steps"></div>
  <div class="steps"></div>
  <div class="steps"></div>
  <div class="steps"></div>
</main>